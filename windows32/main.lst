Microsoft (R) Macro Assembler Version 11.00.61030.0	    10/13/16 17:48:14
main.asm						     Page 1 - 1


				.586
				.MODEL FLAT	; only 32 bit addresses, no segment:offset

				INCLUDE io.h   ; header file for input/output
			      C ; IO.H -- header file for I/O macros (listing suppressed)
			      C .NOLIST      ; turn off listing
			      C .LIST        ; begin listing
			      C 

				.STACK 4096	   ; allocate 4096 bytes for the stack

 00000000			.DATA
					; This is an unsigned problem. There are no negative numbers in this code.
					; The array elements will be bytes, because they will be ASCII coded strings.

					; This string is null-terminated because it will be the destination of the input macro.
					; This is temporary, because it is currently hard-coded.

 00000000 54 68 69 73 20		string BYTE "This is a hard-coded example.", 0
	   69 73 20 61 20
	   68 61 72 64 2D
	   63 6F 64 65 64
	   20 65 78 61 6D
	   70 6C 65 2E 00

					; This number will keep track of the number of lower case letters in the string
 0000001E 0000				lowerCaseCount WORD 0

 00000000			.CODE
 00000000			_MainProc PROC
					
					; char = string[0]
					; while (char != 0) {
					;	if (char >= 97d && char <= 122d) {
					;		lowerCaseCount += 1
					;	}
					;}

 00000000  8D 2D 00000000 R		lea ebp, string				; address of first byte of string into EBP.
												; i = 0
 00000006			countLoop:
 00000006  80 7D 00 00			cmp BYTE PTR [ebp], 0		; string[i] == 0?
 0000000A  74 19			jz countLoopEnd				; quit upon reaching null
						
 0000000C  80 7D 00 61			cmp BYTE PTR [ebp], "a"
 00000010  72 0E			jb notLowerCase				; jump if (string[i] < "a")
 00000012  80 7D 00 7A			cmp BYTE PTR [ebp], "z"
 00000016  77 08			ja notLowerCase				; jump if (string[i] > "z")

 00000018  66| 83 05			add lowerCaseCount, 1		; lowerCaseCount += 1
	   0000001E R 01
 00000020			notLowerCase:
 00000020  83 C5 01			add ebp, 1					; i++
 00000023  EB E1			jmp countLoop
 00000025			countLoopEnd:
					

 00000025			quit:
 00000025  B8 00000000			mov eax, 0					; exit with return code 0
					
 0000002A  C3				ret
 0000002B			_MainProc ENDP

				END   ; end of source code
Microsoft (R) Macro Assembler Version 11.00.61030.0	    10/13/16 17:48:14
main.asm						     Symbols 2 - 1




Macros:

                N a m e                 Type

atod . . . . . . . . . . . . . .	Proc
atow . . . . . . . . . . . . . .	Proc
dtoa . . . . . . . . . . . . . .	Proc
input  . . . . . . . . . . . . .	Proc
output . . . . . . . . . . . . .	Proc
wtoa . . . . . . . . . . . . . .	Proc


Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

FLAT . . . . . . . . . . . . . .	GROUP
STACK  . . . . . . . . . . . . .	32 Bit	 00001000 Para	  Stack	  'STACK'	 
_DATA  . . . . . . . . . . . . .	32 Bit	 00000020 Para	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 0000002B Para	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

_MainProc  . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 0000002B Public
  countLoop  . . . . . . . . . .	L Near	 00000006 _TEXT	
  notLowerCase . . . . . . . . .	L Near	 00000020 _TEXT	
  countLoopEnd . . . . . . . . .	L Near	 00000025 _TEXT	
  quit . . . . . . . . . . . . .	L Near	 00000025 _TEXT	


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000000h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
_getInput  . . . . . . . . . . .	L Near	 00000000 FLAT	External
_showOutput  . . . . . . . . . .	L Near	 00000000 FLAT	External
atodproc . . . . . . . . . . . .	L Near	 00000000 FLAT	External
atowproc . . . . . . . . . . . .	L Near	 00000000 FLAT	External
dtoaproc . . . . . . . . . . . .	L Near	 00000000 FLAT	External
lowerCaseCount . . . . . . . . .	Word	 0000001E _DATA	
string . . . . . . . . . . . . .	Byte	 00000000 _DATA	
wtoaproc . . . . . . . . . . . .	L Near	 00000000 FLAT	External

	   0 Warnings
	   0 Errors
